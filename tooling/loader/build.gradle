dependencies {
    compileOnly('org.spongepowered:mixin:0.8.5')
    compileOnly('org.ow2.asm:asm-tree:6.2')
    compileOnly(project(':api'))
    compileOnly(project(':tooling:entrypoint-spoof'))
}

tasks.withType(ProcessResources).configureEach {
    filesMatching([
            'plugin.yml',
            'bungee.yml',
            'fabric.mod.json', "${project.project_id}.mixins.json".toString(),
            'META-INF/mods.toml', 'META-INF/neoforge.mods.toml', 'mcmod.info',
            'META-INF/sponge_plugins.json',
            'velocity-plugin.json'
    ]) {
        expand project.properties
    }
}

jar {
    archiveFileName = "${project_id}-loader-${loader_version}.jar"
}
